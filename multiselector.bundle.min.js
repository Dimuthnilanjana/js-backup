document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".select-wrapper").forEach(t=>{const e=t.querySelector("select"),n=t.querySelector(".form-select.text-start"),c=t.querySelector(".custom-select-dropdown"),l=t.querySelector(".select-options"),o=t.querySelector(".form-check-input");function i(t,e=24){return t.length>e?t.substring(0,e)+"...":t}e.querySelectorAll("option").forEach(t=>{const e=document.createElement("div");e.className="select-option";const n=i(t.textContent);e.innerHTML=`<input class="form-check-input option-checkbox" type="checkbox" value="${t.value}"><label class="form-check-label" title="${t.textContent}">${n}</label>`,l.appendChild(e)}),n.addEventListener("click",t=>{c.classList.toggle("show"),t.stopPropagation()}),document.addEventListener("click",e=>{c.contains(e.target)||e.target===n||c.classList.remove("show")}),o.addEventListener("change",()=>{const e=o.checked;t.querySelectorAll(".option-checkbox").forEach(t=>{t.checked=e}),d(),s()});const a=t.querySelectorAll(".option-checkbox");a.forEach(t=>{t.addEventListener("change",()=>{r(),d(),s()})}),c.addEventListener("click",t=>{t.stopPropagation()});function r(){const t=a.length,e=Array.from(a).filter(t=>t.checked).length;o.checked=t===e}function d(){const e=Array.from(t.querySelectorAll(".option-checkbox:checked")),c=e.length;n.innerHTML="",0===c?n.innerHTML='<span class="select-button-text">Select Options</span>':(e.forEach((t,e)=>{if(e<3){const c=document.createElement("span");c.className="chip";const l=t.nextElementSibling.title,o=i(l);c.textContent=o,c.title=l;const a=document.createElement("span");a.className="remove-chip",a.textContent=" Ã—",a.dataset.value=t.value,a.addEventListener("click",e=>{e.stopPropagation(),t.checked=!1,r(),d(),s()}),c.appendChild(a),n.appendChild(c)}}),c>3&&((t=>{const e=document.createElement("span");e.className="chip more-chip",e.textContent=`+${t}`,n.appendChild(e)})(c-3)))}function s(){a.forEach(t=>{e.querySelector(`option[value="${t.value}"]`).selected=t.checked})}})});
